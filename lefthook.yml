pre-commit:
  piped: true
  commands:
    1_lint:
      glob: "*.dart"
      exclude:
        - "*.vibe.dart"
      run: |
        dart fix --apply
      stage_fixed: true
    2_format:
      glob: "*.dart"
      exclude:
        - "*.vibe.dart"
      run: dart format {staged_files}
      stage_fixed: true
    3_analyze:
      glob: "*.dart"
      exclude:
        - "*.vibe.dart"
      run: dart analyze {staged_files}

pre-push:
  commands:
    test_cli:
      root: "cli/"
      run: |
        dart test
    test_package:
      root: "vibe/"
      run: |
        flutter test
